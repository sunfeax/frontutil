<div class="container my-4 front-plist">
  <!-- Header -->
  <div class="row mb-4">
    <div class="col">
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center">
        <div class="mb-3 mb-md-0">
          <h1 class="h2 mb-1">
            <i class="bi bi-cart-check text-primary me-2" aria-hidden="true"></i>
            Mi Lista de Compra
          </h1>
          <p class="text-muted small mb-0">Explora los items de la lista</p>
        </div>
        <a
          class="btn btn-outline-primary"
          href="/calinescu/plist"
          title="Mantenimiento de lista de compra"
        >
          <i class="bi bi-gear-fill me-2" aria-hidden="true"></i>
          Administrar
        </a>
      </div>
    </div>
  </div>

  <!-- Items Grid -->
  <div class="row row-cols-1 g-4 mb-4">
    @for (oCalinescu of oPage?.content; track oCalinescu.id ) {
    <div class="col">
      <div class="card shadow-sm h-100 hover-lift">
        <div class="card-body">
          <app-unrouted-user-view2-calinescu [oCalinescu]="oCalinescu"></app-unrouted-user-view2-calinescu>
        </div>
      </div>
    </div>
    }
  </div>

  <!-- Total de la lista completa -->
  @if (oPage && oPage.content && oPage.content.length > 0) {
  <div class="row mb-4">
    <div class="col">
      <div class="card shadow-sm bg-success text-white">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h3 class="h5 mb-1">
                <i class="bi bi-calculator me-2"></i>Total de la Lista Completa
              </h3>
              <p class="small mb-0 opacity-75">Suma de {{ oPage.totalElements || 0 }} productos</p>
            </div>
            <div class="text-end">
              <div class="display-6 fw-bold">
                {{ totalGlobal | number: '1.2-2' }} €
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  }

  <!-- Paginación -->
  <div class="row">
    <div class="col">
      <div class="d-flex justify-content-center">
        <app-paginacion
          [numPage]="numPage"
          [numPages]="oPage?.totalPages || 1"
          (pageChange)="irAPagina($event)"
        >
        </app-paginacion>
      </div>
    </div>
  </div>
  
</div>
